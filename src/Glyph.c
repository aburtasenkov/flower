
#include "Glyph.h"

extern uint8_t RGB_WHITE[] = {255, 255, 255};
extern uint8_t RGB_BLACK[] = {0, 0, 0};

const Glyph FONT[] = {
// Each row uses the low 5 bits
// currently only 'A'-'Z' and space
{' ', {0b00000,0b00000,0b00000,0b00000,0b00000,0b00000,0b00000}},
{'A', {0b01110,0b10001,0b10001,0b11111,0b10001,0b10001,0b10001}},
{'B', {0b11110,0b10001,0b10001,0b11110,0b10001,0b10001,0b11110}},
{'C', {0b01110,0b10001,0b10000,0b10000,0b10000,0b10001,0b01110}},
{'D', {0b11110,0b10001,0b10001,0b10001,0b10001,0b10001,0b11110}},
{'E', {0b11111,0b10000,0b10000,0b11110,0b10000,0b10000,0b11111}},
{'F', {0b11111,0b10000,0b10000,0b11110,0b10000,0b10000,0b10000}},
{'G', {0b01110,0b10001,0b10000,0b10111,0b10001,0b10001,0b01110}},
{'H', {0b10001,0b10001,0b10001,0b11111,0b10001,0b10001,0b10001}},
{'I', {0b01110,0b00100,0b00100,0b00100,0b00100,0b00100,0b01110}},
{'J', {0b00001,0b00001,0b00001,0b00001,0b10001,0b10001,0b01110}},
{'K', {0b10001,0b10010,0b10100,0b11000,0b10100,0b10010,0b10001}},
{'L', {0b10000,0b10000,0b10000,0b10000,0b10000,0b10000,0b11111}},
{'M', {0b10001,0b11011,0b10101,0b10101,0b10001,0b10001,0b10001}},
{'N', {0b10001,0b11001,0b10101,0b10011,0b10001,0b10001,0b10001}},
{'O', {0b01110,0b10001,0b10001,0b10001,0b10001,0b10001,0b01110}},
{'P', {0b11110,0b10001,0b10001,0b11110,0b10000,0b10000,0b10000}},
{'Q', {0b01110,0b10001,0b10001,0b10001,0b10101,0b10010,0b01101}},
{'R', {0b11110,0b10001,0b10001,0b11110,0b10100,0b10010,0b10001}},
{'S', {0b01110,0b10001,0b10000,0b01110,0b00001,0b10001,0b01110}},
{'T', {0b11111,0b00100,0b00100,0b00100,0b00100,0b00100,0b00100}},
{'U', {0b10001,0b10001,0b10001,0b10001,0b10001,0b10001,0b01110}},
{'V', {0b10001,0b10001,0b10001,0b10001,0b01010,0b01010,0b00100}},
{'W', {0b10001,0b10001,0b10001,0b10101,0b10101,0b11011,0b10001}},
{'X', {0b10001,0b01010,0b00100,0b00100,0b00100,0b01010,0b10001}},
{'Y', {0b10001,0b01010,0b00100,0b00100,0b00100,0b00100,0b00100}},
{'Z', {0b11111,0b00001,0b00010,0b00100,0b01000,0b10000,0b11111}},
};

const size_t FONT_COUNT = sizeof(FONT) / sizeof(FONT[0]);

const uint8_t * glyphRows(char c) 
// return binary rows of an ascii char for further image creation
{
    if (c == ' ') return FONT[0].rows;
    c = (char)toupper((unsigned char)c);
    for (size_t i = 0; i < FONT_COUNT; ++i) {
        if (FONT[i].c == c) return FONT[i].rows;
    }
    return FONT[0].rows; // fallback to space for unsupported chars
}