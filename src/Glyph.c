
#include "Glyph.h"

#include "ctype.h"

uint8_t RGB_WHITE[] = {255, 255, 255};
uint8_t RGB_BLACK[] = {0, 0, 0};

const Glyph FONT[] = {
// Each row uses the bytes to represent ascii chars in pixel color
{' ', {0b00000000,
    0b00000000,
    0b00000000,
    0b00000000,
    0b00000000,
    0b00000000,
    0b00000000,
    0b00000000}},
{'A', {0b00000000,
    0b00111000,
    0b01000100,
    0b01000100,
    0b01111100,
    0b01000100,
    0b01000100,
    0b00000000}},
{'B', {0b00000000,
    0b01111000,
    0b01000100,
    0b01000100,
    0b01111000,
    0b01000100,
    0b01111000,
    0b00000000}},
{'C', {0b00000000,
    0b00111000,
    0b01000100,
    0b01000000,
    0b01000000,
    0b01000100,
    0b00111000,
    0b00000000}},
{'D', {0b00000000,
    0b01111000,
    0b01000100,
    0b01000100,
    0b01000100,
    0b01000100,
    0b01111000,
    0b00000000}},
{'E', {0b00000000,
    0b01111100,
    0b01000000,
    0b01000000,
    0b01111000,
    0b01000000,
    0b01111100,
    0b00000000}},
{'F', {0b00000000,
    0b01111100,
    0b01000000,
    0b01000000,
    0b01111000,
    0b01000000,
    0b01000000,
    0b00000000}},
{'G', {0b00000000,
    0b00111000,
    0b01000100,
    0b01000000,
    0b01011100,
    0b01000100,
    0b00111000,
    0b00000000}},
{'H', {0b00000000,
    0b01000100,
    0b01000100,
    0b01000100,
    0b01111100,
    0b01000100,
    0b01000100,
    0b00000000}},
{'I', {0b00000000,
    0b00111000,
    0b00010000,
    0b00010000,
    0b00010000,
    0b00010000,
    0b00111000,
    0b00000000}},
{'J', {0b00000000,
    0b00011100,
    0b00001000,
    0b00001000,
    0b00001000,
    0b01001000,
    0b00110000,
    0b00000000}},
{'K', {0b00000000,
    0b01000100,
    0b01001000,
    0b01110000,
    0b01001000,
    0b01000100,
    0b01000100,
    0b00000000}},
{'L', {0b00000000,
    0b01000000,
    0b01000000,
    0b01000000,
    0b01000000,
    0b01000000,
    0b01111100,
    0b00000000}},
{'M', {0b00000000,
    0b01000100,
    0b01101100,
    0b01010100,
    0b01000100,
    0b01000100,
    0b01000100,
    0b00000000}},
{'N', {0b00000000,
    0b01000100,
    0b01100100,
    0b01010100,
    0b01001100,
    0b01000100,
    0b01000100,
    0b00000000}},
{'O', {0b00000000,
    0b00111000,
    0b01000100,
    0b01000100,
    0b01000100,
    0b01000100,
    0b00111000,
    0b00000000}},
{'P', {0b00000000,
    0b01111000,
    0b01000100,
    0b01000100,
    0b01111000,
    0b01000000,
    0b01000000,
    0b00000000}},
{'Q', {0b00000000,
    0b00111000,
    0b01000100,
    0b01000100,
    0b01010100,
    0b01001000,
    0b00110100,
    0b00000000}},
{'R', {0b00000000,
    0b01111000,
    0b01000100,
    0b01000100,
    0b01111000,
    0b01010000,
    0b01001000,
    0b00000000}},
{'S', {0b00000000,
    0b00111000,
    0b01000100,
    0b01000000,
    0b00111000,
    0b00000100,
    0b01111000,
    0b00000000}},
{'T', {0b00000000,
    0b01111100,
    0b00010000,
    0b00010000,
    0b00010000,
    0b00010000,
    0b00010000,
    0b00000000}},
{'U', {0b00000000,
    0b01000100,
    0b01000100,
    0b01000100,
    0b01000100,
    0b01000100,
    0b00111000,
    0b00000000}},
{'V', {0b00000000,
    0b01000100,
    0b01000100,
    0b01000100,
    0b00101000,
    0b00101000,
    0b00010000,
    0b00000000}},
{'W', {0b00000000,
    0b01000100,
    0b01000100,
    0b01010100,
    0b01010100,
    0b01101100,
    0b01000100,
    0b00000000}},
{'X', {0b00000000,
    0b01000100,
    0b00101000,
    0b00010000,
    0b00010000,
    0b00101000,
    0b01000100,
    0b00000000}},
{'Y', {0b00000000,
    0b01000100,
    0b00101000,
    0b00010000,
    0b00010000,
    0b00010000,
    0b00010000,
    0b00000000}},
{'Z', {0b00000000,
    0b01111100,
    0b00000100,
    0b00001000,
    0b00010000,
    0b00100000,
    0b01111100,
    0b00000000}},
};


const size_t FONT_COUNT = sizeof(FONT) / sizeof(FONT[0]);

const uint8_t * glyphRows(char c) 
// return binary rows of an ascii char for further image creation
{
    if (c == ' ') return FONT[0].rows;
    c = (char)toupper((unsigned char)c);
    for (size_t i = 0; i < FONT_COUNT; ++i) {
        if (FONT[i].c == c) return FONT[i].rows;
    }
    return FONT[0].rows; // fallback to space for unsupported chars
}